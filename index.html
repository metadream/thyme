<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <title>web components</title>
    <script src="dist/thyme.js"></script>
    <style>
        body {
            padding: 20px;
        }

        main {
            width: 100%;
            max-width: 600px;
            margin: auto;
        }

        main>* {
            display: block;
            margin: 5px;
        }

        table {
            display: table;
        }

        th-button {
            display: inline-block;
        }

        th-checkbox {
            margin-right: 10px;
        }

        .gallery>div {
            background: #eee;
        }
    </style>
</head>

<body>
    <main>
        <th-field label="用户名" name="username" maxlength="10" required></th-field>
        <th-field label="密码" type="password" name="password"></th-field>
        <th-field label="年龄" type="number" name="age" min="10" required></th-field>
        <th-field label="邮箱" type="email" name="email" placeholder="username@example.com"></th-field>
        <th-field label="网址" type="url" name="website" placeholder="http://www.example.com"></th-field>
        <th-field label="是否会员"><th-switch name="isMember"></th-switch></th-field>

        <th-checkgroup label="兴趣爱好" name="hobbies" required>
            <th-checkbox value="football">足球</th-checkbox>
            <th-checkbox value="basketball" checked>篮球</th-checkbox>
            <th-checkbox value="pingpong">乒乓球</th-checkbox>
            <th-checkbox value="tennis">网球</th-checkbox>
            <th-checkbox value="vollyball">排球</th-checkbox>
        </th-checkgroup>

        <th-select type="text" label="手机品牌" name="brand" required>
            <option></option>
            <option value="1">iPhone</option>
            <option value="2" disabled>Oppo</option>
            <option value="3">Huawei</option>
            <option value="4">Xiaomi</option>
            <option value="6" selected>Google</option>
            <option value="7" disabled>Nokia</option>
            <option value="8">HTC</option>
            <option value="9">Samsang</option>
            <option value="0">TCL</option>
        </th-select>

        <th-calendar label="生日" name="birthday" required></th-calendar>

        <th-upload label="附件" name="attachments" accept="image/*" multiple="5" maxsize="20000240" editable
            required></th-upload>

        <th-textbox label="备注" name="remark" required>
            之所以首先确定北极星的位置，是因为我们在北半球所看见的所有的星图都是围绕北极星做逆时针旋转的。&#10;&#10;星图本身趋于固定，只要确定旋转的圆心，再以北斗或其他星座作为参照，就可以知道此时星空旋转到了什么程度，方便定位其他星座。
        </th-textbox>

        <br>
        <th-button variant="tonal warning" onclick="post(this)">提交数据</th-button>
        <th-button onclick="Thyme.alert('你好，世界')">Alert</th-button>
        <th-button onclick="confirm()" variant="danger outlined">Confirm</th-button>
        <th-button onclick="dialog.open()">Dialog</th-button>
        <th-button onclick="Thyme.info('捷克的角色可弗拉斯的')" tooltip="间客房送拉将卡洛斯的">Info</th-button>
        <th-button onclick="Thyme.warning('捷克的角色可弗拉斯的')">Warning</th-button>
        <th-button onclick="Thyme.error('捷克的角色可弗拉斯的')">Error</th-button>
        <th-button onclick="Thyme.success('捷克的角色可弗拉斯的')">Success</th-button>
        <th-button onclick="this.loading=true">Loading</th-button>

        <br><br>
        <th-waterfall column="3" spacing="10" class="gallery">
            <div><br>1</div>
            <div><br><br>2</div>
            <div><br><br><br><br>3</div>
            <div><br>4</div>
            <div><br><br><br>5</div>
            <div><br>6</div>
            <div><br><br>7</div>
            <div><br><br><br><br><br><br>8</div>
            <div><br><br><br><br>9</div>
            <div><br><br><br><br><br>10</div>
        </th-waterfall>

        <br>
        <table class="list">
            <tr>
                <th>表头1</th>
                <th>表头2</th>
                <th>表头3</th>
            </tr>
            <tr>
                <td>1</td>
                <td>2</td>
                <td>3</td>
            </tr>
            <tr>
                <td>4</td>
                <td>5</td>
                <td>6</td>
            </tr>
        </table>

        <div style="height:1000px"></div>

        <th-dialog>
            <h1 style="margin-top:0">注意啦</h1>
            <div>其实没啥可注意的</div>
        </th-dialog>

        <th-toptray></th-toptray>
    </main>
</body>

</html>

<script>
    function post(btn) {
        const data = Thyme.form.getJsonObject('body');
        if (!data) return;
        console.log(data);

        btn.loading = true;
        setTimeout(() => {
            btn.loading = false;
        }, 1000);
    }

    const uploader = document.querySelector('th-upload');
    uploader.entries = [{
        _id: 'a-1',
        previewUrl: 'http://baidu.com',
        downloadUrl: 'http://baidu.com',
        originalName: '会场.jpg'
    }, {
        _id: 'a-2',
        previewUrl: 'http://baidu.com',
        downloadUrl: 'http://baidu.com',
        originalName: '项目启动会演讲稿.ppt'
    }, {
        _id: 'a-3',
        previewUrl: 'http://baidu.com',
        downloadUrl: 'http://baidu.com',
        originalName: '与会人员列表.xlsx'
    }];

    uploader.onUpload = async function (entry) {
        await delay(500);
        console.log('Upload success---------', entry)
    }
    uploader.onRemove = async function (entry) {
        await delay(500);
        console.log('Remove success---------', entry)
    }

    const dialog = document.querySelector('th-dialog');
    dialog.buttons = ['关闭', {
        label: '确定',
        primary: true,
        onclick: async (self) => {
            await delay(500);
            console.log('ok');
        }
    }];

    function confirm() {
        Thyme.confirm('确定删除吗？', function (self) {
            console.log(self, this);
        });
    }

    function delay(delayInms) {
        return new Promise(resolve => setTimeout(resolve, delayInms));
    }
</script>